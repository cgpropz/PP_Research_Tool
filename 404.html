<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Page Not Found • PrizePicks Edge</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <style>
    // GitHub Pages fallback routing
    (function(){
      try {
        const path = (location.pathname || '').toLowerCase();
        const qs = new URLSearchParams(location.search);
        const search = qs.get('search');

        // 1) Missing player page → redirect to dashboard with search
        if (path.includes('/players/')) {
          const slug = path.split('/').pop().replace('.html','');
          const name = slug.replace(/-/g,' ');
          location.replace(`index.html?search=${encodeURIComponent(name)}`);
          return;
        }

        // 2) Team Matchups page fallback
        if (path.endsWith('/team_matchup') || path.endsWith('/team_matchup/') || path.includes('team_matchup.html')) {
          location.replace('Team_Matchup.html');
          return;
        }

        // 3) Default: dashboard, preserve search if present
        const url = search ? `index.html?search=${encodeURIComponent(search)}` : 'index.html';
        location.replace(url);
      } catch(e) {
        location.replace('index.html');
      }
    })();
  </div>

  <script>
    (function(){
      const path = (location.pathname || '').toLowerCase();
      const m = path.match(/players\/([^\/]+)\.html$/i);
      let guess = '';
      if (m) {
        const slug = decodeURIComponent(m[1]);
        guess = slug.split('-').map(s => s ? s[0].toUpperCase() + s.slice(1) : '').join(' ').trim();
        document.getElementById('hint').textContent = `Tip: Try searching for "${guess}"`;
      }
      const target = guess ? `./index.html?search=${encodeURIComponent(guess)}` : './index.html';
      setTimeout(() => { location.replace(target); }, 1200);

      // Enhance: allow search right from here
      const box = document.getElementById('searchBox');
      if (box && guess) box.value = guess;
      fetch('./PLAYER_UI_CARDS_PERFECT.json').then(r => r.ok ? r.json() : []).then(data => {
        const names = Array.from(new Set((Array.isArray(data) ? data : (data.players||[])).map(p => p.name))).sort();
        const dl = document.getElementById('playerSuggestions');
        names.forEach(n => { const opt = document.createElement('option'); opt.value = n; dl.appendChild(opt); });
      }).catch(()=>{});
      document.getElementById('searchGo').addEventListener('click', () => {
        const v = (document.getElementById('searchBox').value || '').trim();
        if (!v) { location.href = './index.html'; return; }
        location.href = `./index.html?search=${encodeURIComponent(v)}`;
      });
    })();
  </script>
</body>
  <a href="./index.html" style="position:fixed;top:16px;left:16px;display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid #ccc;background:#fff;color:#333;box-shadow:0 2px 6px rgba(0,0,0,0.15);text-decoration:none;font-weight:700">HOME
    <span style="display:inline-block;width:14px;height:14px;mask:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\"><path fill=\"%23000\" d=\"M541 229.16 512 206.56V56a24 24 0 0 0-24-24h-40a24 24 0 0 0-24 24v72.61L314.52 43.19c-13.11-10.2-31.92-10.2-45 0L35 229.16a24 24 0 0 0-3.6 33.78l25.5 31.28a24 24 0 0 0 33.78 3.6l22.2-17.2V456a24 24 0 0 0 24 24h96a24 24 0 0 0 24-24V360h96v96a24 24 0 0 0 24 24h96a24 24 0 0 0 24-24V280.62l22.2 17.2a24 24 0 0 0 33.78-3.6l25.5-31.28a24 24 0 0 0-3.56-33.78Z"/></svg>') center/contain;background:#333"></span>
  </a>
</html>
