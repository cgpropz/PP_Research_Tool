<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Page Not Found • PrizePicks Edge</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
  <style>
    // GitHub Pages fallback routing
    (function(){
      try {
        const path = (location.pathname || '').toLowerCase();
        const qs = new URLSearchParams(location.search);
        const search = qs.get('search');

        // 1) Missing player page → redirect to dashboard with search
        if (path.includes('/players/')) {
          const slug = path.split('/').pop().replace('.html','');
          const name = slug.replace(/-/g,' ');
          location.replace(`index.html?search=${encodeURIComponent(name)}`);
          return;
        }

        // 2) Team Matchups page fallback
        if (path.endsWith('/team_matchup') || path.endsWith('/team_matchup/') || path.includes('team_matchup.html')) {
          location.replace('Team_Matchup.html');
          return;
        }

        // 3) Default: dashboard, preserve search if present
        const url = search ? `index.html?search=${encodeURIComponent(search)}` : 'index.html';
        location.replace(url);
      } catch(e) {
        location.replace('index.html');
      }
    })();
  </div>

  <script>
    (function(){
      const path = (location.pathname || '').toLowerCase();
      const m = path.match(/players\/([^\/]+)\.html$/i);
      let guess = '';
      if (m) {
        const slug = decodeURIComponent(m[1]);
        guess = slug.split('-').map(s => s ? s[0].toUpperCase() + s.slice(1) : '').join(' ').trim();
        document.getElementById('hint').textContent = `Tip: Try searching for "${guess}"`;
      }
      const target = guess ? `./index.html?search=${encodeURIComponent(guess)}` : './index.html';
      setTimeout(() => { location.replace(target); }, 1200);

      // Enhance: allow search right from here
      const box = document.getElementById('searchBox');
      if (box && guess) box.value = guess;
      fetch('./PLAYER_UI_CARDS_PERFECT.json').then(r => r.ok ? r.json() : []).then(data => {
        const names = Array.from(new Set((Array.isArray(data) ? data : (data.players||[])).map(p => p.name))).sort();
        const dl = document.getElementById('playerSuggestions');
        names.forEach(n => { const opt = document.createElement('option'); opt.value = n; dl.appendChild(opt); });
      }).catch(()=>{});
      document.getElementById('searchGo').addEventListener('click', () => {
        const v = (document.getElementById('searchBox').value || '').trim();
        if (!v) { location.href = './index.html'; return; }
        location.href = `./index.html?search=${encodeURIComponent(v)}`;
      });
    })();
  </script>
</body>
</html>
